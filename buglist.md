1. On initial model load, there is no loading animation, app just frozen
2. text is streamed from model but not to UI
3. cannot scroll through previous messages
4. On app reload, looks like messages may be duplicated?
5. Sometimes hits error with predicition.
6. user message doesn't show til after ai message generated
7. need to implement download model from web


flutter: ‚ùå AI response generation error: PlatformException(failedToAddQueryToSession("<start_of_turn>user\nYou are an expert behavioral health coach named PALMER. \nYour primary role is to support users in their mental health and behavioral wellness journey through compassionate, evidence-based guidance.\n\nCore responsibilities:\n1. Profile management and personalization\n2. Supportive engagement with empathy\n3. Constructive challenge when appropriate\n4. Symptom observation and pattern recognition\n5. Evidence-based intervention suggestions\n\nCommunication style: Warm, professional, curious, respectful. Keep responses concise but meaningful.\n\nUser: did you get stuck\nPALMER:<end_of_turn>\n<start_of_turn>model\n", Optional("INTERNAL: RET_CHECK failure (third_party/odml/infra/genai/inference/llm_engine.cc:1293) PredictDone() AddQueryChunk should not be called before PredictDone, not supported for now.\n=== Source Location Trace: === \nthird_party/odml/infra/genai/inference/llm_engine.cc:1293\n")), GenAiInferenceError, Stacktrace: ["0   Runner.debug.dylib                  0x00000001085554c8 $s13flutter_gemma9wrapError33_AC1DF4B16F5474DCF2184B6087243948LLySayypSgGypF + 1868", "1   Runner.debug.dylib                  0x000000010855a2a4 $s13flutter_gemma20PlatformServiceSetupC5setUp15binaryMessenger3api20messageChannelSuffixySo013FlutterBinaryI0_p_AA0cD0_pSgSStFZyypSg_yAKctcfU4_ys6ResultOyyts5Error_pGcfU_ + 324", "2   Runner.debug.dylib                  0x0000000108549d24 $s13flutter_gemma19PlatformServiceImplC13addQueryChunk6prompt10completionySS_ys6ResultOyyts5Error_pGctFyyYbcfU_yyScMYccfU0_ + 96", "3   Runner.debug.dylib                  0x0000000108547558 $sIeg_IeyB_TR + 48", "4   libdispatch.dylib                   0x0000000105a20584 _dispatch_call_block_and_release + 32", "5   libdispatch.dylib                   0x0000000105a3a064 _dispatch_client_callout + 16", "6   libdispatch.dylib                   0x0000000105a5af70 _dispatch_main_queue_drain.cold.5 + 876", "7   libdispatch.dylib                   0x0000000105a30548 _dispatch_main_queue_drain + 180", "8   libdispatch.dylib                   0x0000000105a30484 _dispatch_main_queue_callback_4CF + 44", "9   CoreFoundation                      0x0000000184ad5d90 7821F73C-378B-3A10-BE90-EF526B7DBA93 + 445840", "10  CoreFoundation                      0x0000000184a794f4 7821F73C-378B-3A10-BE90-EF526B7DBA93 + 66804", "11  CoreFoundation                      0x0000000184a7ac3c CFRunLoopRunSpecific + 572", "12  GraphicsServices                    0x00000001d1c59454 GSEventRunModal + 168", "13  UIKitCore                           0x000000018748d274 96636F64-106F-30C8-A780-82DCEBB0F443 + 1266292", "14  UIKitCore                           0x0000000187458a28 UIApplicationMain + 336", "15  UIKitCore                           0x000000018753a168 96636F64-106F-30C8-A780-82DCEBB0F443 + 1974632", "16  Runner.debug.dylib                  0x000000010807db44 $sSo21UIApplicationDelegateP5UIKitE4mainyyFZ + 120", "17  Runner.debug.dylib                  0x000000010807dabc $s6Runner11AppDelegateC5$mainyyFZ + 44", "18  Runner.debug.dylib                  0x000000010807dbc0 __debug_main_executable_dylib_entry_point + 28", "19  dyld                                0x00000001ab94ff08 86D5253D-4FD1-36F3-B4AB-25982C90CBF4 + 257800"], null)
flutter: AI response failed, using fallback: PlatformException(failedToAddQueryToSession("<start_of_turn>user\nYou are an expert behavioral health coach named PALMER. \nYour primary role is to support users in their mental health and behavioral wellness journey through compassionate, evidence-based guidance.\n\nCore responsibilities:\n1. Profile management and personalization\n2. Supportive engagement with empathy\n3. Constructive challenge when appropriate\n4. Symptom observation and pattern recognition\n5. Evidence-based intervention suggestions\n\nCommunication style: Warm, professional, curious, respectful. Keep responses concise but meaningful.\n\nUser: did you get stuck\nPALMER:<end_of_turn>\n<start_of_turn>model\n", Optional("INTERNAL: RET_CHECK failure (third_party/odml/infra/genai/inference/llm_engine.cc:1293) PredictDone() AddQueryChunk should not be called before PredictDone, not supported for now.\n=== Source Location Trace: === \nthird_party/odml/infra/genai/inference/llm_engine.cc:1293\n")), GenAiInferenceError, Stacktrace: ["0   Runner.debug.dylib                  0x00000001085554c8 $s13flutter_gemma9wrapError33_AC1DF4B16F5474DCF2184B6087243948LLySayypSgGypF + 1868", "1   Runner.debug.dylib                  0x000000010855a2a4 $s13flutter_gemma20PlatformServiceSetupC5setUp15binaryMessenger3api20messageChannelSuffixySo013FlutterBinaryI0_p_AA0cD0_pSgSStFZyypSg_yAKctcfU4_ys6ResultOyyts5Error_pGcfU_ + 324", "2   Runner.debug.dylib                  0x0000000108549d24 $s13flutter_gemma19PlatformServiceImplC13addQueryChunk6prompt10completionySS_ys6ResultOyyts5Error_pGctFyyYbcfU_yyScMYccfU0_ + 96", "3   Runner.debug.dylib                  0x0000000108547558 $sIeg_IeyB_TR + 48", "4   libdispatch.dylib                   0x0000000105a20584 _dispatch_call_block_and_release + 32", "5   libdispatch.dylib                   0x0000000105a3a064 _dispatch_client_callout + 16", "6   libdispatch.dylib                   0x0000000105a5af70 _dispatch_main_queue_drain.cold.5 + 876", "7   libdispatch.dylib                   0x0000000105a30548 _dispatch_main_queue_drain + 180", "8   libdispatch.dylib                   0x0000000105a30484 _dispatch_main_queue_callback_4CF + 44", "9   CoreFoundation                      0x0000000184ad5d90 7821F73C-378B-3A10-BE90-EF526B7DBA93 + 445840", "10  CoreFoundation                      0x0000000184a794f4 7821F73C-378B-3A10-BE90-EF526B7DBA93 + 66804", "11  CoreFoundation                      0x0000000184a7ac3c CFRunLoopRunSpecific + 572", "12  GraphicsServices                    0x00000001d1c59454 GSEventRunModal + 168", "13  UIKitCore                           0x000000018748d274 96636F64-106F-30C8-A780-82DCEBB0F443 + 1266292", "14  UIKitCore                           0x0000000187458a28 UIApplicationMain + 336", "15  UIKitCore                           0x000000018753a168 96636F64-106F-30C8-A780-82DCEBB0F443 + 1974632", "16  Runner.debug.dylib                  0x000000010807db44 $sSo21UIApplicationDelegateP5UIKitE4mainyyFZ + 120", "17  Runner.debug.dylib                  0x000000010807dabc $s6Runner11AppDelegateC5$mainyyFZ + 44", "18  Runner.debug.dylib                  0x000000010807dbc0 __debug_main_executable_dylib_entry_point + 28", "19  dyld                                0x00000001ab94ff08 86D5253D-4FD1-36F3-B4AB-25982C90CBF4 + 257800"], null)